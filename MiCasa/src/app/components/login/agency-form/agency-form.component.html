<mat-stepper orientation="vertical" [linear]="true">
  <mat-step [stepControl]="generalInfo">
    <form
      [formGroup]="generalInfo"
      class="form-outline mb-4"
      data-aos="zoom-in"
      data-aos-duration="600"
      data-aos-easing="ease-in-out"
    >
      <ng-template matStepLabel>Informations générales</ng-template>

      <ng-template matStepContent>
        <!-- Name section-->
        <span class="p-float-label">
          <input
            type="text"
            id="nameInput"
            class="form-control form-control-lg"
            pInputText
            autocomplete
            formControlName="Nom"
          />
          <label for="nameInput">Nom de l'agence</label>
        </span>

        <!--Name error messages-->
        <div
          *ngIf="
            generalInfo.get('Nom')?.invalid &&
            (generalInfo.get('Nom')?.dirty || generalInfo.get('Nom')?.touched)
          "
        >
          <p-message
            *ngIf="generalInfo.get('Nom')?.invalid"
            severity="error"
            text="name invalide"
          ></p-message>

          <p-message
            *ngIf="(generalInfo.get('Nom')?.errors)!['required']"
            severity="error"
            text="name requis"
            class="not-first-message"
          >
          </p-message>
        </div>

        <!-- Mail section -->
        <span class="p-float-label">
          <input
            type="email"
            id="emailInput"
            class="form-control form-control-lg"
            pInputText
            autocomplete
            formControlName="Mail"
          />
          <label for="emailInput">Adresse email</label>
        </span>

        <!-- Mail error messages-->

        <!-- Phone number section -->
        <span class="p-float-label">
          <input
            type="tel"
            id="phoneNumberInput"
            class="form-control form-control-lg"
            pInputText
            autocomplete
            formControlName="NumeroTelephone"
          />
          <label for="phoneNumberInput">Numero de téléphone</label>
        </span>

        <!-- Phone number error messages-->

        <!-- Addresse section -->
        <span class="p-float-label">
          <input
            type="text"
            id="adresseInput"
            class="form-control form-control-lg"
            pInputText
            autocomplete
            formControlName="Adresse"
          />
          <label for="adresseInput">Adresse</label>
        </span>

        <!-- Addresse error messages -->

        <button
          [disabled]="!generalInfo.valid"
          pButton
          pRipple
          matStepperNext
          class="p-button-outlined p-button-rounded p-button-success"
        >
          Suivant
        </button>
      </ng-template>
    </form>
  </mat-step>

  <!-- GEOGRAPHIC COORDINATES -->
  <mat-step [stepControl]="coordinatesControl" [optional]="true">
    <form [formGroup]="coordinatesControl">
      <ng-template matStepLabel>Coordonées géographiques</ng-template>

      <ng-template matStepContent>
        <!-- Longitude section -->
        <span class="p-float-label">
          <input
            type="text"
            id="Longitude"
            class="form-control form-control-lg"
            pInputText
            autocomplete
            formControlName="longitude"
          />
          <label for="longitude">Longitude</label>
        </span>

        <!-- Longitude error messages -->

        <!-- Latitude section -->
        <span class="p-float-label">
          <input
            type="text"
            id="Latitude"
            class="form-control form-control-lg"
            pInputText
            autocomplete
            formControlName="latitude"
          />

          <label for="latitude">Latitude</label>
        </span>

        <!-- latitude error section -->

        <button
          pButton
          pRipple
          matStepperPrevious
          class="p-button-outlined p-button-rounded p-button-secondary"
        >
          Précédent
        </button>

        <button
          pButton
          pRipple
          matStepperNext
          class="p-button-outlined p-button-rounded p-button-success next-button"
        >
          Suivant
        </button>
      </ng-template>
    </form>
  </mat-step>

  <mat-step [stepControl]="securityControl">
    <form [formGroup]="securityControl">
      <ng-template matStepLabel>Sécurité</ng-template>

      <ng-template matStepContent>
        <!-- Username section -->
        <span class="p-float-label">
          <input
            type="text"
            id="username"
            class="form-control form-control-lg"
            pInputText
            autocomplete
            formControlName="username"
          />
          <label for="username">Nom d'utilisateur</label>
        </span>

        <!-- Username error messages -->

        <!-- Password section -->
        <span class="p-float-label">
          <input
            type="password"
            id="password"
            class="form-control form-control-lg"
            pInputText
            autocomplete
            formControlName="password"
          />

          <label for="password">Mot de passe</label>
        </span>

        <!-- Password error section -->

        <!-- Confirm password section -->
        <span class="p-float-label">
          <input
            type="password"
            id="confirmPassword"
            class="form-control form-control-lg"
            pInputText
            autocomplete
            formControlName="confirmPassword"
          />

          <label for="confirmPassword">Confirmer le mot de passe</label>
        </span>

        <!-- Confirm password error section -->

        <button
          pButton
          pRipple
          matStepperPrevious
          class="p-button-outlined p-button-rounded p-button-secondary"
        >
          Précédent
        </button>

        <button
          pButton
          pRipple
          matStepperNext
          class="p-button-outlined p-button-rounded p-button-success next-button"
        >
          Créer le compte
        </button>
      </ng-template>
    </form>
  </mat-step>
</mat-stepper>
